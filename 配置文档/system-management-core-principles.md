# 系统管理核心铁律

## 第一铁律：系统稳定性优先原则

1. 任何时候都必须优先保证系统稳定运行
2. 不要进行大范围的破坏性修改
3. 修改前必须做好完整备份
4. 一次只解决一个问题

## 第二铁律：环境兼容性优先原则

1. 系统升级后必须检查环境兼容性
2. 优先解决环境配置问题而非代码逻辑问题
3. 保持原有功能的完整性
4. 逐步进行系统现代化升级

## 第三铁律：精准定位问题原则

1. 必须准确识别问题的根本原因
2. 不要扩大问题范围
3. 避免"一刀切"式的全局修改
4. 采用科学的方法分析问题

## 第四铁律：安全操作规范原则

1. 坚决杜绝使用sed等危险命令直接修改配置文件
2. 所有修改必须手动编辑并仔细检查
3. 修改后必须立即验证效果
4. 建立完善的测试和验证流程

## 第五铁律：备份和版本控制原则

1. 任何修改前都必须做好完整备份
2. 建立清晰的版本控制机制
3. 保留关键时间点的系统快照
4. 定期清理无用的备份和临时文件

## 核心操作铁律

### 操作原则

最重要的操作粒度标准：

提供宝塔面板点击步骤级别指导，或直接提供宝塔终端 bash 指令的集合。

特别强调：只有我黏贴回来执行信息的才能证明我已经执行过这些指令的，否则就是我还没有执行这些指令！

### 指令格式

宝塔终端指令格式：
- 每次只提供无需判断即可在宝塔终端能够一键点击就能全部复制的可一并执行的多条指令的bash集合。
- 每次执行前，必须等待前面指令反馈结果后，再提供后续指令。
- 禁止提前提供后续指令。
- 每条bash指令必须编号

### 禁止命令清单

- rm -rf /
- find / -delete
- dd if=/dev/zero of=/dev/sda
- bt 1
- bt 2

### 安全命令清单

- nginx -t
- /www/server/nginx/sbin/nginx -s reload
- ps aux | grep nginx
- tar -czf backup_$(date +%Y%m%d).tar.gz /path/to/backup
- md5sum file_name
- diff dir1 dir2

## 断点管理增强铁律

### 快照与备份管理铁律

- 保留有用的备份和日志，及时删除确认无用的备份和垃圾
- 测试站点相应的信息和备份必须条理化的全部保存在本地【C:\Users\华为\FORTUNE网站升级】文件夹内，禁止保存在宝塔内，避免因ECS回滚和删除造成永久性的消失。

### 断点恢复机制

- 记录完整状态。
- 创建系统备份。
- 生成断点标记文件，包含：
  - 当前阶段目标
  - 已完成任务清单
  - 待执行指令队列
  - 已验证配置信息
- 确保断电断网后能无缝恢复

## 数据管理规范

### 内容清理标准铁律

- 每日或每工作3小时及时清理各种影响VS CODE+灵码运行速度的各种垃圾，日志等，在保证项目安全运行的前提下，最大化地消除所有影响VS CODE+灵码运行质量和速度的因素
- 经严格验证后，确认需要清理的无效多余的废弃图片、文档、媒体文件，软件，插件，废弃数据库表/字段

## 实时更新授权

灵码被授权实时更新以下内容：
- 根据项目实际进展更新执行规则
- 根据运行站点升级需要及时更新ESA配置
- 根据运行站点升级需要及时更新ESA规则和边缘函数配置
- 断点记录文件 - 根据执行进度更新状态
- 工作区配置 - 优化开发环境设置
- 必须保持SSL/TLS配置一致性
- 缓存规则必须严格执行

## 灵码执行优先级

1. 保护数据安全 - 绝不删除保护清单中的任何内容
2. 断点可恢复 - 确保任何时刻都能从断点恢复
3. 性能优化 - 在保证数据安全的前提下优化性能
4. 实时更新 - 根据实际进展更新规则和配置

## 文档更新规则

1. **存储位置**：所有重要文档必须保存在"/home/FORTUNE网站升级/配置文档" 目录下
2. **禁止存储**：绝不将重要文档保存在宝塔服务器内
3. **更新通知**：每次文档更新都必须及时通知操作者
4. **版本控制**：重要变更必须记录版本和时间

指令生效时间： 立即生效
指令更新权限： 灵码可根据实际需要实时更新授权内容
指令存储位置： /home/FORTUNE网站升级/配置文档/core-principles.md
